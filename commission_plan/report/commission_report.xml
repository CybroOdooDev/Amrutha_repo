<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <template id="report_commission">
        <t t-call="web.html_container">
            <t t-call="web.internal_layout">
                <t t-foreach="docs" t-as="o">
                    <div class="oe_structure">
                        <div class="col-12 mb-4">
                            <img t-if="o.company_id.logo"
                                 t-att-src="image_data_uri(o.company_id.logo)"
                                 style="max-height: 45px;" alt="Logo"/>
                            <div class="oe_structure"></div>
                        </div>
                        <h2>COMMISSION PAYOUT</h2>
                        <table class="table table-sm">
                            <tr>
                                <td>
                                    <strong>Date of Sale:</strong>
                                </td>
                                <td>
                                    <span t-field="o.create_date"/>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <strong>Seller/Buyer:</strong>
                                </td>
                                <td>
                                    <t t-if="o.x_studio_sellerlandlord_name">
                                        <span t-field="o.x_studio_sellerlandlord_name"/>
                                    </t>
                                    <t t-if="o.x_studio_buyertenant_name">
                                        <span t-field="o.x_studio_buyertenant_name"/>
                                    </t>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <strong>Property:</strong>
                                </td>
                                <td>
                                    <span t-field="o.x_studio_property_address"/>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <strong>Category:</strong>
                                </td>
                                <td>
                                    <span t-field="o.company_id.name"/>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <strong>Type:</strong>
                                </td>
                                <td>
                                    <span
                                            t-field="o.x_studio_opportunity_type_1"/>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <strong>TC Fee:</strong>
                                </td>
                                <td>Brokerage</td>
                            </tr>
                            <tr>
                                <td>
                                    <strong>Agent:</strong>
                                </td>
                                <td>
                                    <span t-field="o.user_id.name"/>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <strong>Co-Agent:</strong>
                                </td>
                                <td>
                                    <t t-if="o.referer_id">
                                        <span t-field="o.referer_id.name"/>
                                    </t>
                                </td>
                            </tr>
                        </table>

                        <h3>Commission to Lange Real Estate</h3>
                        <p>
                            <strong>Amount:</strong>
                            <span t-field="o.total_amount"/>
                            <span t-field="o.currency_id.symbol"/>
                        </p>

                        <h3>Distributions to Agents</h3>
                        <table class="table table-sm">
                            <tr>
                                <td>
                                    <strong>Tier:</strong>
                                </td>
                                <td><span t-field="o.tier"/>%
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <strong>Commission Earned:</strong>
                                </td>
                                <td>
                                    <span t-field="o.total_commission"/>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <strong>Referral Fee:</strong>
                                </td>
                                <td>
                                    <span t-field="o.referral_fee"/>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <strong>Transaction Coordinator Fee:
                                    </strong>
                                </td>
                                <td>
                                    <t t-if="o.is_apply_transaction_coordinator_fee">
                                        <span t-field="o.company_id.tc_fee"/>

                                    </t>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <strong>Errors and Omissions
                                        Insurance:
                                    </strong>
                                </td>
                                <td>
                                    <span t-field="o.omissions_insurance"/>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <strong>Payable to Agent:</strong>
                                </td>
                                <td>
                                    <span t-field="o.commission_to_be_paid"/>
                                </td>
                            </tr>
                        </table>

                        <h3>Referral Fee Payable to Co-Agent</h3>
                        <p>
                            <strong>Amount:</strong>
                            <span t-field="o.referral_fee"/>
                        </p>

                        <h3>Paid through Payroll</h3>
                        <p>
                            <strong>Transaction Coordinator:</strong>
                            <span t-field="o.company_id.tc_fee"/>
                        </p>

                        <p>All payments will be net of any outstanding charges
                            on agents' accounts.
                        </p>
                    </div>
                </t>
            </t>
        </t>
    </template>
    <template id="report_commission_preview">
        <t t-call="web.html_container">
            <t t-call="web.internal_layout">
                <t t-foreach="docs" t-as="o">
                    <div class="oe_structure">
                        <h2>COMMISSION PAYOUT</h2>
                        <table class="table table-sm">
                            <tr>
                                <td>
                                    <strong>Date of Sale:</strong>
                                </td>
                                <td>
                                    <!--                                    <t t-esc="data['create_date']"/>-->
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <strong>Seller/Buyer:</strong>
                                </td>
                                <td>
                                    <!--                                    <t t-if="data['seller_name']">-->
                                    <!--                                        <t t-esc="data['seller_name']"/>-->
                                    <!--                                    </t>-->
                                    <!--                                    <t t-if="data['buyer_name']">-->
                                    <!--                                        <t t-esc="data['buyer_name']"/>-->
                                    <!--                                    </t>-->
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <strong>Property:</strong>
                                </td>
                                <td>
                                    <!--                                    <t t-esc="data['property_address']"/>-->
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <strong>Category:</strong>
                                </td>
                                <td>
                                    <!--                                    <t t-esc="data['company_name']"/>-->
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <strong>Type:</strong>
                                </td>
                                <td>
                                    <!--                                    <t t-esc="data['opportunity_type']"/>-->
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <strong>TC Fee:</strong>
                                </td>
                                <td>Brokerage</td>
                            </tr>
                            <tr>
                                <td>
                                    <strong>Agent:</strong>
                                </td>
                                <td>Agent A</td>
                            </tr>
                            <tr>
                                <td>
                                    <strong>Co-Agent:</strong>
                                </td>
                                <td>Agent B</td>
                            </tr>
                        </table>

                        <h3>Commission to Lange Real Estate</h3>
                        <p>
                            <strong>Amount:</strong>
                            <!--                            <t t-esc="data['total_amount']"/>-->
                            <!--                            <t t-esc="data['currency_symbol']"/>-->
                        </p>

                        <h3>Distributions to Agents</h3>
                        <table class="table table-sm">
                            <tr>
                                <td>
                                    <strong>Tier:</strong>
                                </td>
                                <!--                                <td><t t-esc="data['tier']"/>%-->
                                <!--                                </td>-->
                            </tr>
                            <tr>
                                <td>
                                    <strong>Commission Earned:</strong>
                                </td>
                                <td>
                                    <!--                                    <t t-esc="data['total_commission']"/>-->
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <strong>Referral Fee:</strong>
                                </td>
                                <td>
                                    <!--                                    <t t-esc="data['referral_fee']"/>-->
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <strong>Transaction Coordinator Fee:
                                    </strong>
                                </td>
                                <td>
                                    <!--                                    <t t-esc="data['tc_fee']"/>-->
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <strong>Errors and Omissions Insurance:
                                    </strong>
                                </td>
                                <td>
                                    <!--                                    <t t-esc="data['omissions_insurance']"/>-->
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <strong>Payable to Agent:</strong>
                                </td>
                                <td>
                                    <!--                                    <t t-esc="data['total_commission']"/>-->
                                </td>
                            </tr>
                        </table>

                        <h3>Referral Fee Payable to Co-Agent</h3>
                        <p>
                            <strong>Amount:</strong>
                            <!--                            <t t-esc="data['referral_fee']"/>-->
                        </p>

                        <h3>Paid through Payroll</h3>
                        <p>
                            <strong>Transaction Coordinator:</strong>
                            <!--                            <t t-esc="data['tc_fee']"/>-->
                        </p>

                        <p>All payments will be net of any outstanding charges
                            on agents' accounts.
                        </p>
                    </div>
                </t>
            </t>
        </t>
    </template>

</odoo>
